import { useAnimatedSVG } from '@lib/hooks/useAnimatedSVG'
import { theme, css } from 'twin.macro'

export const Phone = ({ ...props }) => {
  const { progress } = useAnimatedSVG({
    isPaused: false,
    withAnimation: true,
    tweenOptions: {
      duration: 3.5,
    },
  })

  const strokes = {
    strokeDasharray: `${progress * 5}, 5000`,
    strokeDashoffset: `${progress * 5}, 5000`,
  }

  const phoneBGStyles = css`
    fill: ${theme`colors.gray.200`};
    opacity: ${(progress / 500) | 0};

    .dark & {
      fill: ${theme`colors.almostBlack`};
    }
  `

  return (
    <svg
      width="385"
      height="775"
      viewBox="0 0 385 775"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      {...props}
    >
      <g id="Phone">
        <g id="Vector">
          <mask id="phone-path-1-inside-1" fill="white">
            <path d="M385 178.861V266.686C384.998 267.498 384.679 268.275 384.113 268.849C383.547 269.423 382.781 269.746 381.98 269.748H379.831V727.263C379.831 739.923 374.871 752.065 366.043 761.017C357.215 769.97 345.242 774.999 332.758 775H50.8578C44.6768 774.999 38.5565 773.764 32.8463 771.365C27.1361 768.965 21.9478 765.449 17.5778 761.016C13.2078 756.583 9.74164 751.321 7.3772 745.529C5.01276 739.738 3.79636 733.531 3.79749 727.263V285.794H2.24157C1.67707 285.795 1.13523 285.569 0.734827 285.166C0.334426 284.762 0.108125 284.214 0.105474 283.642V233.658C0.105424 233.373 0.160631 233.092 0.267963 232.829C0.375295 232.566 0.532639 232.327 0.731004 232.126C0.92937 231.925 1.16487 231.765 1.42406 231.657C1.68324 231.548 1.96104 231.492 2.24157 231.492H3.79749V212.664H2.22833C1.63575 212.662 1.06826 212.421 0.650484 211.995C0.232704 211.569 -0.00123256 210.992 4.88433e-06 210.391V161.089C0.0015086 160.491 0.236783 159.917 0.654347 159.493C1.07191 159.07 1.6378 158.831 2.22833 158.83H3.79745V133.129H2.20198C1.94214 133.13 1.68478 133.078 1.44466 132.977C1.20454 132.877 0.986364 132.729 0.802632 132.542C0.6189 132.356 0.47323 132.135 0.373955 131.891C0.27468 131.648 0.223754 131.387 0.224101 131.123V104.219C0.222912 103.686 0.430501 103.174 0.801304 102.795C1.17211 102.417 1.67584 102.203 2.20198 102.2H3.79745V47.7238C3.79793 35.0668 8.7562 22.9283 17.5816 13.9785C26.407 5.02863 38.3768 0.000461002 50.8578 4.88438e-10H332.758C345.24 -5.72196e-05 357.212 5.02752 366.039 13.9771C374.867 22.9267 379.828 35.0654 379.831 47.7238V175.798H381.98C382.781 175.801 383.547 176.124 384.113 176.698C384.679 177.271 384.998 178.049 385 178.861V178.861Z" />
          </mask>
          <path
            d="M385 178.861V266.686C384.998 267.498 384.679 268.275 384.113 268.849C383.547 269.423 382.781 269.746 381.98 269.748H379.831V727.263C379.831 739.923 374.871 752.065 366.043 761.017C357.215 769.97 345.242 774.999 332.758 775H50.8578C44.6768 774.999 38.5565 773.764 32.8463 771.365C27.1361 768.965 21.9478 765.449 17.5778 761.016C13.2078 756.583 9.74164 751.321 7.3772 745.529C5.01276 739.738 3.79636 733.531 3.79749 727.263V285.794H2.24157C1.67707 285.795 1.13523 285.569 0.734827 285.166C0.334426 284.762 0.108125 284.214 0.105474 283.642V233.658C0.105424 233.373 0.160631 233.092 0.267963 232.829C0.375295 232.566 0.532639 232.327 0.731004 232.126C0.92937 231.925 1.16487 231.765 1.42406 231.657C1.68324 231.548 1.96104 231.492 2.24157 231.492H3.79749V212.664H2.22833C1.63575 212.662 1.06826 212.421 0.650484 211.995C0.232704 211.569 -0.00123256 210.992 4.88433e-06 210.391V161.089C0.0015086 160.491 0.236783 159.917 0.654347 159.493C1.07191 159.07 1.6378 158.831 2.22833 158.83H3.79745V133.129H2.20198C1.94214 133.13 1.68478 133.078 1.44466 132.977C1.20454 132.877 0.986364 132.729 0.802632 132.542C0.6189 132.356 0.47323 132.135 0.373955 131.891C0.27468 131.648 0.223754 131.387 0.224101 131.123V104.219C0.222912 103.686 0.430501 103.174 0.801304 102.795C1.17211 102.417 1.67584 102.203 2.20198 102.2H3.79745V47.7238C3.79793 35.0668 8.7562 22.9283 17.5816 13.9785C26.407 5.02863 38.3768 0.000461002 50.8578 4.88438e-10H332.758C345.24 -5.72196e-05 357.212 5.02752 366.039 13.9771C374.867 22.9267 379.828 35.0654 379.831 47.7238V175.798H381.98C382.781 175.801 383.547 176.124 384.113 176.698C384.679 177.271 384.998 178.049 385 178.861V178.861Z"
            stroke="black"
            strokeWidth="2"
            tw="stroke-current text-black dark:text-white"
            mask="url(#phone-path-1-inside-1)"
            {...strokes}
          />
        </g>
        <g id="Vector_2">
          <mask id="phone-path-2-inside-2" fill="white">
            <path d="M357 56.973V724.04C357.004 728.377 356.069 732.664 354.26 736.601C352.45 740.538 349.81 744.033 346.522 746.841C341.129 751.463 334.274 754.001 327.187 754H57.8134C53.0205 754.007 48.297 752.85 44.0452 750.626C43.0464 750.111 42.0794 749.537 41.1495 748.905C37.1009 746.159 33.7847 742.456 31.4921 738.12C29.1994 733.785 28.0003 728.95 28 724.04V56.973C27.9998 53.0368 28.7708 49.1392 30.269 45.5026C31.7672 41.866 33.9633 38.5618 36.7317 35.7785C39.5002 32.9952 42.7869 30.7874 46.4041 29.2812C50.0213 27.775 53.8982 26.9998 57.8134 27H98.1305V32.2006C98.1305 38.7461 100.717 45.0234 105.321 49.6517C109.924 54.2801 116.168 56.8803 122.679 56.8803H259.675C266.186 56.8803 272.43 54.2801 277.034 49.6518C281.637 45.0234 284.224 38.7461 284.224 32.2006V27H327.187C331.102 26.9987 334.98 27.7731 338.597 29.2789C342.215 30.7848 345.502 32.9925 348.271 35.776C351.039 38.5595 353.235 41.8642 354.733 45.5013C356.231 49.1383 357.001 53.0365 357 56.973Z" />
          </mask>
          <path
            d="M357 56.973V724.04C357.004 728.377 356.069 732.664 354.26 736.601C352.45 740.538 349.81 744.033 346.522 746.841C341.129 751.463 334.274 754.001 327.187 754H57.8134C53.0205 754.007 48.297 752.85 44.0452 750.626C43.0464 750.111 42.0794 749.537 41.1495 748.905C37.1009 746.159 33.7847 742.456 31.4921 738.12C29.1994 733.785 28.0003 728.95 28 724.04V56.973C27.9998 53.0368 28.7708 49.1392 30.269 45.5026C31.7672 41.866 33.9633 38.5618 36.7317 35.7785C39.5002 32.9952 42.7869 30.7874 46.4041 29.2812C50.0213 27.775 53.8982 26.9998 57.8134 27H98.1305V32.2006C98.1305 38.7461 100.717 45.0234 105.321 49.6517C109.924 54.2801 116.168 56.8803 122.679 56.8803H259.675C266.186 56.8803 272.43 54.2801 277.034 49.6518C281.637 45.0234 284.224 38.7461 284.224 32.2006V27H327.187C331.102 26.9987 334.98 27.7731 338.597 29.2789C342.215 30.7848 345.502 32.9925 348.271 35.776C351.039 38.5595 353.235 41.8642 354.733 45.5013C356.231 49.1383 357.001 53.0365 357 56.973Z"
            stroke="black"
            strokeWidth="2"
            tw="stroke-current text-black dark:text-white"
            mask="url(#phone-path-2-inside-2)"
            css={phoneBGStyles}
            {...strokes}
          />
        </g>
      </g>
    </svg>
  )
}
